<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Hi, it's Gee. Fill out the form below and we'll get your booking completed. From airport transfers, to city breaks or anything, you'll ride in style with Gee ‚Äì the only experience you'll ever get." />
  <meta name="theme-color" content="#d50000" />
  <title>Let's Get You Some Where - Ride with Gee</title>

  <!-- Social meta -->
  <meta property="og:title" content="Let's Get You Some Where - Ride with Gee" />
  <meta property="og:description" content="Fill out the form below and we'll get your booking completed. From airport transfers, to city breaks or anything, you'll ride in style with Gee ‚Äì the only experience you'll ever get." />
  <meta property="og:image" content="https://uber.itzgee.com/preview.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Ride with Gee" />
  <meta name="twitter:description" content="Your next ride, done right." />
  <meta name="twitter:image" content="https://uber.itzgee.com/preview.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="Ride with Gee preview image" />

  <!-- Facebook Meta Tags -->
  <meta property="og:url" content="https://uber.itzgee.com/">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Let's Get You Some Where">
  <meta property="og:description" content="Fill out the form below and we'll get your booking completed. From airport transfers, to city breaks or anything, you'll ride in style with Gee ‚Äì the only experience you'll ever get.">
  <meta property="og:image" content="https://uber.itzgee.com/preview.png">
  <meta property="og:image:secure_url" content="https://uber.itzgee.com/preview.png"/>

  <!-- Flatpickr -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_red.css" />

  <style>
    *, *::before, *::after { box-sizing: border-box; }
    body, html {
      margin: 0; padding: 0;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background: #f8f8f8;
      color: #111;
    }
    main {
      max-width: 480px;
      margin: 4rem auto 5rem;
      background: #fff;
      border-radius: 18px;
      padding: 2.5rem 2rem 3rem;
      box-shadow: 0 6px 25px rgba(0,0,0,0.12);
    }
    h1 {
      text-align: center;
      color: #d50000;
      font-size: 2.5rem;
      font-weight: 900;
      margin-bottom: 0.25rem;
    }
    h2 {
      font-weight: 400;
      font-size: 1.1rem;
      text-align: center;
      margin-bottom: 2rem;
      color: #444;
    }
    form label {
      display: block;
      font-weight: 600;
      margin: 1.2rem 0 0.4rem;
    }
    input, textarea, select {
      width: 100%;
      padding: 0.8rem 1rem;
      border: 1.8px solid #d50000;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: 600;
      background: #fff;
      color: #111;
    }
    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: #a30000;
    }
    ::placeholder { font-weight: 400; color: #888; }

    .with-icon { position: relative; }
    .with-icon input { padding-left: 2.5rem; }
    .field-icon {
      position: absolute;
      left: 0.8rem;
      top: 50%;
      transform: translateY(-50%);
      color: #d50000;
      font-size: 1.2rem;
    }

    button[type="submit"] {
      margin-top: 2rem;
      width: 100%;
      background-color: #d50000;
      color: #fff;
      font-weight: 900;
      font-size: 1.25rem;
      padding: 1rem 0;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button[type="submit"]:hover { background-color: #a30000; }

    #loading-spinner {
      display: none;
      text-align: center;
      color: #d50000;
      font-weight: bold;
      margin-top: 1rem;
    }
    #success-message {
      margin-top: 1rem;
      color: #2e7d32;
      font-weight: 700;
      text-align: center;
      display: none;
    }

    footer {
      text-align: center;
      font-size: 0.9rem;
      color: #555;
      padding: 2rem 1rem;
      border-top: 1px solid #ccc;
      margin-top: 3rem;
    }
    @media (max-width: 520px) {
      main { margin: 2rem 1rem; padding: 2rem 1.5rem; }
      h1 { font-size: 2rem; }
    }
  </style>
</head>
<body>

<main>
  <h1>LET'S GET YOU SOME WHERE</h1>
  <h2>Hi, it's Gee. Fill out the form below and we'll get your booking completed. From airport transfers, to city breaks or anything, you'll ride in style with Gee ‚Äì the only experience you'll ever get.</h2>

  <form id="bookingForm" action="https://formspree.io/f/xjkraeqq" method="POST" autocomplete="off">
    <label for="firstName">First Name *</label>
    <input type="text" id="firstName" name="firstName" required placeholder="Your first name" />

    <label for="lastName">Last Name *</label>
    <input type="text" id="lastName" name="lastName" required placeholder="Your last name" />

    <label for="email">Email Address *</label>
    <input type="email" id="email" name="email" required placeholder="example@email.com" />

    <label for="mobileNumber">Mobile Number (with country code) *</label>
    <input type="tel" id="mobileNumber" name="mobileNumber" required placeholder="+44 7XXX XXX XXX" inputmode="tel" pattern="^[0-9+\s()-]{10,18}$" />

    <label for="pickupDate">Pick Up Date (DD/MM/YYYY) *</label>
    <div class="with-icon">
      <span class="field-icon">üìÖ</span>
      <input type="text" id="pickupDate" name="pickupDate" required />
    </div>

    <label for="pickupTime">Pick Up Time *</label>
    <div class="with-icon">
      <span class="field-icon">‚è∞</span>
      <!-- Added pattern attribute -->
      <input
        type="time"
        id="pickupTime"
        name="pickupTime"
        required
        pattern="^([01]\d|2[0-3]):[0-5]\d$"
        aria-describedby="timeFormatHint"
      />
      <small id="timeFormatHint" style="font-size:0.8rem;color:#888;">Format: HH:mm (24-hour)</small>
    </div>

    <label for="passengers">Number of Passengers *</label>
    <select id="passengers" name="passengers" required>
      <option value="" disabled selected>Select number of passengers</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
    </select>

    <label for="pickupPoint">Pick Up Point *</label>
    <div class="with-icon">
      <span class="field-icon">üìç</span>
      <input type="text" id="pickupPoint" name="pickupPoint" placeholder="Enter pickup location" required />
    </div>

    <label for="dropoffPoint">Drop Off Point *</label>
    <div class="with-icon">
      <span class="field-icon">üèÅ</span>
      <input type="text" id="dropoffPoint" name="dropoffPoint" placeholder="Enter drop-off location" required />
    </div>

    <label for="specialRequests">Special Requests (Optional)</label>
    <textarea id="specialRequests" name="specialRequests" rows="4" placeholder="e.g., 2 bags, child seat, Terminal 2 at 3:30 PM."></textarea>

    <button type="submit">Book Your Ride</button>
    <div id="loading-spinner">Submitting your booking...</div>
    <p id="success-message">Thanks! We have received your booking request, and we will get in touch with you shortly to confirm your booking. Thanks for choosing Ride with Gee.</p>
  </form>
</main>

<footer>
  ¬© 2025 Ride with Gee. All rights reserved.
</footer>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBfK6L1Zs-HEHszXPzfvwZOmTyuPNEseKs&libraries=places&callback=initAutocomplete" async defer></script>

<script>
  /* === Set default time BEFORE Flatpickr === */
  const defaultTime = new Date(Date.now() + 60 * 60 * 1000);
  const pickupTimeInput = document.getElementById('pickupTime');
  pickupTimeInput.value = defaultTime.toLocaleTimeString('en-GB', {
    hour: '2-digit',
    minute: '2-digit',
    hour12: false
  });

  /* === Flatpickr init === */
  flatpickr("#pickupDate", {
    dateFormat: "d/m/Y",
    minDate: "today"
  });

  flatpickr("#pickupTime", {
    enableTime: true,
    noCalendar: true,
    dateFormat: "H:i",
    time_24hr: true,
    defaultDate: defaultTime,
    minuteIncrement: 5
  });

  /* === Google Maps Autocomplete === */
  function initAutocomplete() {
    const pickupInput = document.getElementById('pickupPoint');
    const dropoffInput = document.getElementById('dropoffPoint');
    new google.maps.places.Autocomplete(pickupInput, { types: ['geocode'] });
    new google.maps.places.Autocomplete(dropoffInput, { types: ['geocode'] });
  }

  /* === Allow only valid phone chars === */
  document.getElementById("mobileNumber").addEventListener("input", function () {
    this.value = this.value.replace(/[^0-9+\s()-]/g, '');
  });

  /* === Inline submission handler === */
  const form = document.getElementById('bookingForm');
  const successMsg = document.getElementById('success-message');
  const spinner = document.getElementById('loading-spinner');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    if (!form.checkValidity()) {
      form.reportValidity();
      return;
    }

    spinner.style.display = 'block';

    try {
      const response = await fetch(form.action, {
        method: form.method,
        body: new FormData(form),
        headers: { 'Accept': 'application/json' }
      });

      spinner.style.display = 'none';

      if (response.ok) {
        form.reset();
        successMsg.style.display = 'block';

        // Reset time input to default after reset
        pickupTimeInput.value = defaultTime.toLocaleTimeString('en-GB', {
          hour: '2-digit',
          minute: '2-digit',
          hour12: false
        });

        setTimeout(() => successMsg.style.display = 'none', 10000);
      } else {
        alert('Oops! Something went wrong. Please try again.');
      }
    } catch (err) {
      spinner.style.display = 'none';
      alert('Submission failed. Please check your connection and try again.');
    }
  });
</script>

</body>
</html>
